var EditTenantModal=function(n){app.modals.EditTenantModal=function(){var t,r=abp.services.app.tenant,i=null;this.init=function(r){function c(){s.is(":checked")?(o.slideUp("fast"),h.removeAttr("required")):(o.slideDown("fast"),h.attr("required","required"))}var u,f,e;t=r;u=t.getModal();i=u.find("form[name=TenantInformationsForm]");i.validate();u.find(".date-time-picker").datetimepicker({locale:abp.localization.currentLanguage.name,format:"L"});var o=u.find("input[name=SubscriptionEndDateUtc]").parent("div"),s=u.find("#CreateTenant_IsUnlimited"),h=u.find("input[name=SubscriptionEndDateUtc]");s.change(function(){c()});c();f=u.find("#EditionId");e=u.find("#EditTenant_IsInTrialPeriod");f.change(function(){var t=n("option:selected",this).attr("data-isfree")==="True",i=n("option:selected",this).val();t?e.closest("div").slideUp("fast"):e.closest("div").slideDown("fast");i<=0?u.find(".subscription-component").slideUp("fast"):u.find(".subscription-component").slideDown("fast")});f.trigger("change")};this.save=function(){if(i.valid()){var u=i.serializeFormToObject();u.SubscriptionEndDateUtc=n("#CreateTenant_IsUnlimited").is(":visible")&&!n("#CreateTenant_IsUnlimited").is(":checked")?n(".date-time-picker").data("DateTimePicker").date().format("YYYY-MM-DDTHH:mm:ss")+"Z":null;t.setBusy(!0);r.updateTenant(u).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));t.close();abp.event.trigger("app.editTenantModalSaved")}).always(function(){t.setBusy(!1)})}}}}(jQuery);